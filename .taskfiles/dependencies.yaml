version: "3"

tasks:
  gum:
    silent: true
    status:
      - test $(command -v gum)
    cmd: |
      if [[ $(command -v brew) ]]; then
        brew install gum
      elif [[ $(command -v apt) ]]; then
        sudo mkdir -p /etc/apt/keyrings
        curl -fsSL https://repo.charm.sh/apt/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg
        echo "deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *" | sudo tee /etc/apt/sources.list.d/charm.list
        sudo apt update && sudo apt install gum
      elif [[ $(command -v pacman) ]]; then
        pacman -S gum
      elif [[ $(command -v scoop) ]]; then
        scoop install charm-gum
      elif [[ $(command -v winget) ]]; then
        winget install charmbracelet.gum
      else
        echo "No package manager found"
      fi
      
